(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431],{63:(e,r,a)=>{"use strict";var s=a(7260);a.o(s,"useParams")&&a.d(r,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}})},9106:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>n});var s=a(5155),t=a(2115),o=a(63);function n(){let e=(0,o.useRouter)(),[r,a]=(0,t.useState)(!1),[n,d]=(0,t.useState)(""),[l,i]=(0,t.useState)({name:"",phone:"",address:"",neighborhood:"",creditLimit:"1000",notes:""}),c=async r=>{r.preventDefault(),a(!0),d("");try{let r=localStorage.getItem("user");if(!r)return void e.push("/login");let a=JSON.parse(r),s=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({storeId:a.storeId,name:l.name,phone:l.phone,address:l.address,neighborhood:l.neighborhood,creditLimit:parseFloat(l.creditLimit)||1e3,notes:l.notes})}),t=await s.json();if(!s.ok)return void d(t.error||"Error al crear cliente");e.push("/dashboard/clients")}catch(e){d("Error al crear cliente")}finally{a(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center mb-6",children:[(0,s.jsx)("button",{onClick:()=>e.back(),className:"text-gray-600 mr-4",children:"â† Volver"}),(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Nuevo Cliente"})]}),n&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:n}),(0,s.jsxs)("form",{onSubmit:c,className:"bg-white rounded-lg shadow p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),(0,s.jsx)("input",{type:"text",required:!0,value:l.name,onChange:e=>i({...l,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nombre del cliente"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tel\xe9fono *"}),(0,s.jsx)("input",{type:"tel",required:!0,value:l.phone,onChange:e=>i({...l,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"809-555-0000"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Direcci\xf3n"}),(0,s.jsx)("input",{type:"text",value:l.address,onChange:e=>i({...l,address:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Calle, n\xfamero, sector"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Barrio"}),(0,s.jsx)("input",{type:"text",value:l.neighborhood,onChange:e=>i({...l,neighborhood:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nombre del barrio"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"L\xedmite de Cr\xe9dito (RD$)"}),(0,s.jsx)("input",{type:"number",value:l.creditLimit,onChange:e=>i({...l,creditLimit:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"1000"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),(0,s.jsx)("textarea",{value:l.notes,onChange:e=>i({...l,notes:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:3,placeholder:"Notas adicionales..."})]}),(0,s.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50",children:r?"Guardando...":"Guardar Cliente"})]})]})})}},9451:(e,r,a)=>{Promise.resolve().then(a.bind(a,9106))}},e=>{e.O(0,[441,255,358],()=>e(e.s=9451)),_N_E=e.O()}]);