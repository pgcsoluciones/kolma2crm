(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{63:(e,s,t)=>{"use strict";var a=t(7260);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},116:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(5155),l=t(2115),i=t(63);function r(){let e=(0,i.useRouter)(),[s,t]=(0,l.useState)(""),[r,d]=(0,l.useState)({totalFiados:0,totalClients:0,clientsWithDebt:0,todayFiados:0,todayPayments:0}),[n,c]=(0,l.useState)(!0);(0,l.useEffect)(()=>{o()},[]);let o=async()=>{try{let s=localStorage.getItem("user");if(!s)return void e.push("/login");let a=JSON.parse(s);t(a.storeName||"Mi Colmado");let l=await fetch("/api/dashboard?storeId=".concat(a.storeId));if(l.ok){let e=await l.json();d(e)}else 401===l.status&&e.push("/login")}catch(e){console.error("Error:",e)}finally{c(!1)}};return n?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"KOLMA2"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:s})]}),(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("user"),e.push("/login")},className:"text-sm text-gray-600 hover:text-gray-900",children:"Salir"})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:new Date().toLocaleDateString("es-DO",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Fiados"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-red-600 mt-2",children:["RD$ ",(r.totalFiados||0).toLocaleString("es-DO",{minimumFractionDigits:2})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCB0"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Clientes"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:r.totalClients||0})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC65"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Con Deuda"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:r.clientsWithDebt||0})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-2xl",children:"⚠️"})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Fiados Hoy"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-red-600 mt-2",children:["RD$ ",(r.todayFiados||0).toLocaleString("es-DO",{minimumFractionDigits:2})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Pagos Hoy"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600 mt-2",children:["RD$ ",(r.todayPayments||0).toLocaleString("es-DO",{minimumFractionDigits:2})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones R\xe1pidas"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("button",{onClick:()=>e.push("/dashboard/clients"),className:"p-4 border-2 border-gray-200 rounded-lg hover:border-indigo-500 hover:bg-indigo-50 transition-colors text-left",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDC65"}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900",children:"Ver Clientes"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Gestiona tu lista de clientes"})]}),(0,a.jsxs)("button",{onClick:()=>e.push("/dashboard/clients/new"),className:"p-4 border-2 border-gray-200 rounded-lg hover:border-indigo-500 hover:bg-indigo-50 transition-colors text-left",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"➕"}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900",children:"Nuevo Cliente"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Agrega un cliente nuevo"})]})]})]})]})]})}},5713:(e,s,t)=>{Promise.resolve().then(t.bind(t,116))}},e=>{e.O(0,[441,255,358],()=>e(e.s=5713)),_N_E=e.O()}]);